<!DOCTYPE html>
<html>
<head>
  <title>Adaptive Registration</title>
  <style>
    .error { border: 2px solid red; }
    .msg { color: red; }
  </style>
</head>
<body>

<h2>Registration Form</h2>

<form id="form">
  <input id="name" placeholder="Name"><br><br>
  <input id="email" placeholder="Email"><br><br>
  <input id="password" type="password" placeholder="Password"><br><br>
  <input id="confirm" type="password" placeholder="Confirm Password"><br><br>
  <input id="age" type="number" placeholder="Age"><br><br>

  <select id="role">
    <option value="">Select Role</option>
    <option value="student">Student</option>
    <option value="teacher">Teacher</option>
    <option value="admin">Admin</option>
  </select><br><br>

  <input id="skills" placeholder="Skills"><br><br>
  <button type="submit">Register</button>
</form>

<p class="msg" id="msg"></p>

<script>
const form = document.getElementById("form");
const msg = document.getElementById("msg");

function validEmail(email) {
  return email.endsWith("@school.com") || email.endsWith("@edu.com");
}

function validPassword(pwd, role) {
  if (role === "admin") return pwd.length >= 10 && /\d/.test(pwd);
  if (role === "teacher") return pwd.length >= 8;
  return pwd.length >= 6;
}

form.addEventListener("submit", e => {
  e.preventDefault();
  msg.textContent = "";

  let email = emailInput.value;
  let role = document.getElementById("role").value;

  if (!validEmail(email)) {
    msg.textContent = "Invalid email domain";
    return;
  }

  if (!validPassword(password.value, role)) {
    msg.textContent = "Weak password for selected role";
    return;
  }

  if (password.value !== confirm.value) {
    msg.textContent = "Passwords do not match";
    return;
  }

  alert("Registration Successful");
});
</script>

</body>
</html>